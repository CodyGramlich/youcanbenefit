
<div id="preface">
    <h3 > Eligibility Screener </h3>
</div>

<main *ngIf="!loading" [@flyinHalf]>
    <div *ngIf="errorMessage" class="center"> <strong>{{errorMessage}} </strong></div>
    <form novalidate (ngSubmit)="onSubmit()" [formGroup]="form" *ngIf="errorMessage.length === 0 && questions.length > 0">

        <div class="questions">
            <app-ycb-question
                *ngFor="let question of questions"
                [question]="question"
                [conditionalQuestions]="gatherConditionals(question)"
                [form]="form"
                (onExpand)="addControls($event)"
                (onHide)="removeControls($event)">
            </app-ycb-question>
        </div>


        <button
            id="submit-button"
            mat-raised-button
            type="submit"
            matTooltip="Click to submit your information."
        >
            <span>SUBMIT</span>
            <mat-icon>send</mat-icon>
        </button>


    </form>
    <div class="center" *ngIf="errorMessage.length === 0 && questions.length === 0"><strong>There are no questions available</strong></div>
</main>

<div *ngIf="loading">
    <mat-progress-spinner style="margin: 10vh auto 0 auto" *ngIf="loading" color="primary" mode="indeterminate"></mat-progress-spinner>
</div>
