<div class="my-container" *ngIf="(form | async) !== null">
  <section id="query-list">
    <mat-tab-group>
      <mat-tab label="Queries">
        <app-query-display
          [selected]="selected"
          (edit)="selectQuery(query)"
          (delete)="handleDelete($event)"
          (copy)="handleCopy($event)"
          *ngFor="let query of (program | async).application"
          [query]="query.data">
        </app-query-display>
      </mat-tab>
      <mat-tab label="Templates">
        <h3>not implemented</h3>
        <a href="https://github.com/yeg-relief/youcanbenefit/issues/17" target="_blank">github issue</a>
        <div>* the templates here would be common to all programs? [SM]</div>
      </mat-tab>
    </mat-tab-group>
  </section>

  <main>
    <mat-icon routerLink="../../edit/{{data.guid}}" [replaceUrl]="true" matTooltip="Edit description">create</mat-icon>
    <header id="program-details">
      
      <h1>{{ (program | async)?.user.data?.title }} query details </h1>
      <p>{{ (program | async)?.application.length }} queries local.</p>
      <div class="actions">
        <button mat-raised-button (click)="newQuery()" color="primary" title="new query">new query</button>
        <button mat-raised-button disabled title="[future] new query from template">from template</button>
      </div>
    </header>

    <div id="query-edit" *ngIf="selected !== undefined">
      <app-query-edit-v3 [programQuery]="selected"> </app-query-edit-v3>
    </div>
  </main>
</div>
