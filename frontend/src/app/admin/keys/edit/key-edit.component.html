<app-bread-crumb>
</app-bread-crumb>

<mat-progress-bar mode="indeterminate" color="warn" *ngIf="saving"></mat-progress-bar>
<section class="key-edit-container">
  <div class="flex flex-center">
    <div class="col-2"></div>
    <mat-input-container class="col-4">
      <input matInput placeholder="key name" [formControl]="nameControl">
    </mat-input-container>
    <div class="col-2"></div>
    <mat-button-toggle-group [formControl]="typeControl">
      <mat-button-toggle *ngFor="let option of typeOptions" [value]="option">
          {{ option }}
      </mat-button-toggle>
    </mat-button-toggle-group>
  </div>
</section>
<div class="py2"></div>
<div class="flex flex-center col-12">
  <div class="col-2"></div>
  <button class="col-4"
    mat-raised-button color="primary"
    [disabled]="!(form.valid && uniqueKeyName) ? true : null"
    (click)="dispatchKeyUpdate()">
    SAVE
  </button>
  <div class="col-1" *ngIf="form.valid && !uniqueKeyName">
    <strong>Pick a unique key name.</strong>
  </div>
  <div class="col-1"></div>
  <button class="col-4"
    mat-raised-button color="warn"
    (click)="handleCancel()">
    CANCEL
  </button>
</div>
